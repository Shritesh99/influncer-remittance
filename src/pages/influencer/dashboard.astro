---
import Layout from '../../layouts/Layout.astro';
import StatsCard from '../../components/influencer/StatsCard.astro';
import EarningsChart from '../../components/influencer/EarningsChart.astro';
import ActiveProposals from '../../components/influencer/AvailableCampaigns.astro';
import AvailableCampaigns from '../../components/influencer/AvailableCampaigns.astro';
import PaymentHistory from '../../components/influencer/PaymentHistory.astro';
import { Icon } from 'astro-icon/components'

// Mock data - replace with actual contract data
const stats = [
  {
    title: "Total Earnings",
    value: "12,500 USDC",
    icon: "mdi:dollar",
    trend: "+2,500 this month",
    color: "green"
  },
  {
    title: "Active Proposals",
    value: "3",
    icon: "mdi:file-text",
    trend: "2 pending approval",
    color: "blue"
  },
  {
    title: "Completed Tasks",
    value: "8",
    icon: "mdi:check-circle",
    trend: "100% success rate",
    color: "purple"
  },
  {
    title: "Available Campaigns",
    value: "15",
    icon: "mdi:megaphone",
    trend: "5 match your profile",
    color: "yellow"
  }
];
---

<Layout title="Influencer Dashboard">
  <div class="space-y-6">
    <!-- Header with Profile -->
    <div class="bg-white rounded-lg shadow p-6">
      <div class="flex justify-between items-center">
        <div class="h-16 w-16 rounded-full bg-blue-100 flex items-center justify-center">
          <Icon name="mdi:user" class="h-8 w-8 text-blue-600" />
        </div>
        <div class="ml-3">
          <h1 class="text-2xl font-bold text-gray-900">Welcome back, Alice</h1>
          <p class="text-gray-600">@alice.stellar â€¢ Social Media Influencer</p>
        </div>
        <div class="ml-auto">
          <a href="/influencer/available-campaigns"
            class="inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700"
          >
            <Icon name="mdi:plus" class="h-4 w-4 mr-2" />
            Submit New Proposal
          </a>
        </div>
      </div>
    </div>

    <!-- Stats Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
      {stats.map((stat) => <StatsCard {...stat} />)}
    </div>

    <!-- Main Content -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
      <EarningsChart />
      <ActiveProposals />
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
      <AvailableCampaigns />
      <PaymentHistory />
    </div>
  </div>
</Layout>